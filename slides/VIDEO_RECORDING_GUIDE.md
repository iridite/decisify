# Decisify 视频录制完整指南

## 📋 概述

本指南将指导你使用 OBS Studio 录制 Slidev 演示文稿，并制作带中文配音和双语字幕的 3 分钟演示视频。

**目标：**
- 视频时长：3 分钟左右
- 配音：中文 AI 配音
- 字幕：中英双语字幕
- 分辨率：1920x1080 (16:9)
- 帧率：30 FPS

---

## 🚀 第一步：生成中文配音（15 分钟）

### 1.1 安装 Edge TTS

```bash
# 使用 uv 安装
uv pip install edge-tts

# 验证安装
edge-tts --version
```

### 1.2 生成配音文件

```bash
cd /home/yixian/Playground/decisify/slides

# 给脚本添加执行权限
chmod +x generate-voiceover-cn.sh

# 执行脚本生成所有配音
./generate-voiceover-cn.sh
```

**预计时间：** 2-3 分钟

**生成的文件：**
```
voiceover/
├── 01-cn.mp3  # 封面（15秒）
├── 02-cn.mp3  # 问题与解决方案（35秒）
├── 03-cn.mp3  # 决策流程架构（25秒）
├── 04-cn.mp3  # Dashboard 总览（30秒）
├── 05-cn.mp3  # 决策流程详解（35秒）
├── 06-cn.mp3  # 技术架构与性能（30秒）
├── 07-cn.mp3  # 应用场景与价值（25秒）
└── 08-cn.mp3  # 结尾 CTA（10秒）
```

### 1.3 试听配音

```bash
# 使用任意音频播放器试听
mpv voiceover/01-cn.mp3
# 或
vlc voiceover/01-cn.mp3
```

**检查清单：**
- [ ] 配音清晰，无杂音
- [ ] 语速适中，不会太快或太慢
- [ ] 8 个文件都生成成功

---

## 🎥 第二步：安装和配置 OBS Studio（20 分钟）

### 2.1 安装 OBS Studio

```bash
# Arch Linux
sudo pacman -S obs-studio

# Ubuntu/Debian
sudo apt install obs-studio

# 或从官网下载：https://obsproject.com/
```

### 2.2 首次启动配置

1. **启动 OBS Studio**
   ```bash
   obs
   ```

2. **自动配置向导**（首次启动会出现）
   - 选择 "优化录制，我不会直播"
   - 分辨率：1920x1080
   - 帧率：30 FPS
   - 点击 "应用设置"

### 2.3 详细设置

#### 设置 → 输出

```
输出模式：高级

录制：
- 类型：标准
- 录制路径：/home/yixian/Videos/decisify/
- 录制格式：mp4
- 音频轨道：1
- 编码器：x264
- 速率控制：CBR
- 比特率：8000 Kbps
- 关键帧间隔：2
- CPU 使用预设：veryfast
- 配置：high
```

#### 设置 → 视频

```
基础（画布）分辨率：1920x1080
输出（缩放）分辨率：1920x1080
缩小过滤器：Lanczos（锐化缩放，36 个样本）
常用 FPS 值：30
```

#### 设置 → 音频

```
采样率：48 kHz
声道：立体声

桌面音频设备：默认
麦克风/辅助音频：禁用（我们用配音文件）
```

#### 设置 → 高级

```
录制：
- 文件名格式：%CCYY-%MM-%DD %hh-%mm-%ss
- 自动重新混流到 mp4：启用
```

### 2.4 创建场景

1. **在 "场景" 面板点击 "+"，创建新场景**
   - 名称：`Decisify Demo`

2. **添加来源：浏览器窗口捕获**
   - 点击 "来源" 面板的 "+"
   - 选择 "窗口捕获"
   - 名称：`Slidev Browser`
   - 窗口：选择你的浏览器窗口（稍后启动 Slidev 后选择）
   - 捕获方法：自动
   - 点击 "确定"

3. **调整来源大小**
   - 右键点击来源 → 变换 → 适配屏幕
   - 确保填满整个画布（1920x1080）

---

## 🎬 第三步：录制演示文稿（30-60 分钟）

### 3.1 启动 Slidev

```bash
cd /home/yixian/Playground/decisify/slides

# 启动开发服务器
npm run dev

# 浏览器会自动打开 http://localhost:3030
```

### 3.2 准备浏览器

1. **进入全屏模式**
   - 按 `F` 键进入 Slidev 全屏演示模式
   - 或者按 `F11` 进入浏览器全屏

2. **隐藏鼠标指针**（可选）
   - 在 Slidev 中，鼠标不动几秒后会自动隐藏

3. **准备计时器**
   - 手机或另一个屏幕上打开计时器
   - 参考 VOICEOVER_SCRIPT.md 中的时长

### 3.3 OBS 录制设置

1. **在 OBS 中选择浏览器窗口**
   - 双击 "来源" 中的 `Slidev Browser`
   - 在 "窗口" 下拉菜单中选择 Slidev 的浏览器窗口
   - 点击 "确定"

2. **检查预览**
   - 确保 OBS 预览窗口显示完整的 Slidev 页面
   - 没有黑边或裁剪

3. **音频设置**
   - 确保 "桌面音频" 音量条有反应（如果你要录制浏览器音频）
   - 或者静音，后期添加配音

### 3.4 开始录制

#### 方案 A：一次性录制（推荐新手）

```
1. 在 OBS 中点击 "开始录制"
2. 切换到浏览器窗口
3. 按照时间表逐页展示：
   - 第 1 页：停留 15 秒
   - 第 2 页：停留 35 秒
   - 第 3 页：停留 25 秒
   - 第 4 页：停留 30 秒
   - 第 5 页：停留 35 秒
   - 第 6 页：停留 30 秒
   - 第 7 页：停留 25 秒
   - 第 8 页：停留 10 秒
4. 录制完成后，切换回 OBS，点击 "停止录制"
```

**技巧：**
- 使用手机计时器，每页设置倒计时
- 可以稍微多停留 2-3 秒，后期可以剪掉
- 页面切换使用空格键或方向键

#### 方案 B：分页录制（推荐有经验者）

```
1. 每页单独录制
2. 后期在视频编辑软件中拼接
3. 优点：每页可以重录，更灵活
4. 缺点：需要更多后期工作
```

### 3.5 录制检查清单

录制完成后，检查：
- [ ] 视频文件生成成功（在 ~/Videos/decisify/）
- [ ] 视频时长约 3-4 分钟
- [ ] 画面清晰，无卡顿
- [ ] 页面切换流畅
- [ ] 没有意外的鼠标移动或点击

---

## 🎞️ 第四步：视频编辑（1-2 小时）

### 4.1 推荐编辑软件

**DaVinci Resolve（推荐）**
- 免费，功能强大
- 支持 Linux
- 下载：https://www.blackmagicdesign.com/products/davinciresolve

**Kdenlive（开源）**
```bash
sudo pacman -S kdenlive  # Arch Linux
sudo apt install kdenlive  # Ubuntu
```

**Shotcut（简单）**
```bash
sudo pacman -S shotcut
```

### 4.2 编辑流程（以 Kdenlive 为例）

#### 4.2.1 导入素材

1. **启动 Kdenlive**
   ```bash
   kdenlive
   ```

2. **创建新项目**
   - 项目名称：`Decisify Demo`
   - 项目配置：HD 1080p 30 fps

3. **导入文件**
   - 点击 "项目" → "添加剪辑或文件夹"
   - 导入录制的视频文件
   - 导入所有配音文件（voiceover/*.mp3）

#### 4.2.2 剪辑视频

1. **将视频拖到时间轴**
   - 拖动录制的视频到 "视频 1" 轨道

2. **按页面切分**（如果是一次性录制）
   - 使用剃刀工具（快捷键 `X`）在页面切换处切分
   - 调整每个片段的长度，匹配配音时长

3. **删除多余部分**
   - 选中不需要的片段，按 `Delete` 删除

#### 4.2.3 添加配音

1. **创建音频轨道**
   - 右键时间轴 → "插入轨道" → "音频轨道"

2. **添加配音文件**
   - 将 `01-cn.mp3` 拖到第 1 页视频下方的音频轨道
   - 将 `02-cn.mp3` 拖到第 2 页视频下方
   - 依此类推...

3. **对齐音视频**
   - 确保配音和对应的视频页面对齐
   - 使用 "吸附" 功能（磁铁图标）帮助对齐

4. **调整视频长度**
   - 根据配音长度调整视频片段
   - 确保配音播放完毕后才切换到下一页

#### 4.2.4 添加双语字幕

**方法 1：使用字幕编辑器**

1. **创建字幕文件**
   - 创建 `subtitles.srt` 文件（我可以帮你生成）

2. **在 Kdenlive 中导入**
   - "项目" → "字幕" → "添加字幕"
   - 选择 `subtitles.srt`

**方法 2：手动添加文字**

1. **添加文字效果**
   - 点击 "项目" → "添加标题剪辑"
   - 输入中文字幕（上方）
   - 字体：思源黑体 / Noto Sans CJK SC
   - 大小：48
   - 颜色：白色
   - 位置：上方 1/4 处

2. **添加英文字幕**
   - 再添加一个标题剪辑
   - 输入英文字幕（下方）
   - 字体：Roboto / Arial
   - 大小：36
   - 颜色：浅灰色 (#CCCCCC)
   - 位置：下方 1/4 处

3. **调整字幕时长**
   - 拖动字幕剪辑的边缘，匹配配音时长

#### 4.2.5 添加背景音乐（可选）

1. **下载免版权音乐**
   - YouTube Audio Library
   - Pixabay Music
   - 搜索关键词：tech, ambient, corporate

2. **添加到时间轴**
   - 拖到音频轨道 2
   - 调整音量：10-20%（不要盖过配音）

3. **淡入淡出**
   - 在音乐开头和结尾添加淡入淡出效果

### 4.3 预览和调整

1. **播放预览**
   - 按空格键播放
   - 检查音视频同步
   - 检查字幕显示

2. **调整细节**
   - 音量平衡
   - 字幕位置
   - 页面切换时机

---

## 📤 第五步：导出视频（10-20 分钟）

### 5.1 导出设置（Kdenlive）

1. **点击 "项目" → "渲染"**

2. **选择预设**
   - 格式：MP4
   - 预设：MP4-H264/AAC High Quality

3. **自定义设置**
   ```
   视频：
   - 编码器：libx264
   - 质量：高质量（CRF 18-23）
   - 分辨率：1920x1080
   - 帧率：30 fps
   - 比特率：8000-10000 Kbps
   
   音频：
   - 编码器：AAC
   - 比特率：192 Kbps
   - 采样率：48000 Hz
   ```

4. **输出文件**
   - 文件名：`Decisify-Demo-Final.mp4`
   - 位置：`~/Videos/decisify/`

5. **点击 "渲染到文件"**

**预计时间：** 5-15 分钟（取决于电脑性能）

### 5.2 质量检查

导出完成后，检查：
- [ ] 视频时长：2:50-3:30
- [ ] 分辨率：1920x1080
- [ ] 帧率：30 FPS
- [ ] 文件大小：50-150 MB
- [ ] 音频清晰，无杂音
- [ ] 字幕显示正确
- [ ] 画面流畅，无卡顿
- [ ] 配音和画面同步

---

## 🎯 快速参考

### 时间表

| 页面 | 内容 | 配音时长 | 累计时间 |
|------|------|----------|----------|
| 1 | 封面 | 15s | 0:15 |
| 2 | 问题与解决方案 | 35s | 0:50 |
| 3 | 决策流程架构 | 25s | 1:15 |
| 4 | Dashboard 总览 | 30s | 1:45 |
| 5 | 决策流程详解 | 35s | 2:20 |
| 6 | 技术架构与性能 | 30s | 2:50 |
| 7 | 应用场景与价值 | 25s | 3:15 |
| 8 | 结尾 CTA | 10s | 3:25 |

### 常用快捷键

**Slidev：**
- `F` - 全屏演示模式
- `Space` / `→` - 下一页
- `←` - 上一页
- `Esc` - 退出全屏

**OBS Studio：**
- `Ctrl+R` - 开始/停止录制
- `Ctrl+P` - 暂停/继续录制

**Kdenlive：**
- `Space` - 播放/暂停
- `X` - 剃刀工具（切分）
- `Ctrl+Z` - 撤销
- `Ctrl+S` - 保存项目

---

## 🔧 故障排除

### 问题 1：OBS 无法捕获浏览器窗口

**解决方案：**
```bash
# 确保浏览器使用 X11 而非 Wayland
# 启动浏览器时：
chromium --enable-features=UseOzonePlatform --ozone-platform=x11
firefox --x11
```

### 问题 2：录制视频卡顿

**解决方案：**
- 降低 OBS 编码预设：veryfast → ultrafast
- 关闭其他占用 CPU 的程序
- 使用硬件编码（如果支持）：NVENC (NVIDIA) 或 VAAPI (Intel/AMD)

### 问题 3：配音和视频不同步

**解决方案：**
- 在视频编辑软件中微调音频位置
- 使用 "波形" 视图帮助对齐
- 每个片段单独调整

### 问题 4：字幕显示不全

**解决方案：**
- 检查字幕位置是否在安全区域内
- 调整字体大小
- 使用对比度更高的颜色

### 问题 5：导出视频文件过大

**解决方案：**
- 降低比特率：8000 → 6000 Kbps
- 使用 CRF 模式：CRF 23-28
- 压缩音频：192 → 128 Kbps

---

## 💡 进阶技巧

### 1. 添加转场效果

在 Kdenlive 中：
- 拖动 "淡入淡出" 效果到片段之间
- 时长：0.5-1 秒

### 2. 添加 Logo 水印

1. 准备透明 PNG logo
2. 添加到视频轨道 2
3. 调整大小和位置（右下角）
4. 降低不透明度：70-80%

### 3. 色彩校正

1. 选中视频片段
2. 添加 "色彩校正" 效果
3. 微调亮度、对比度、饱和度

### 4. 音频降噪

如果配音有杂音：
1. 选中音频片段
2. 添加 "降噪" 效果
3. 调整降噪强度

---

## 📚 参考资源

- **OBS Studio 官方文档**：https://obsproject.com/wiki/
- **Kdenlive 用户手册**：https://docs.kdenlive.org/
- **Edge TTS GitHub**：https://github.com/rany2/edge-tts
- **Slidev 文档**：https://sli.dev/
- **免版权音乐**：
  - YouTube Audio Library
  - Pixabay Music: https://pixabay.com/music/
  - Free Music Archive: https://freemusicarchive.org/

---

## ✅ 完成清单

制作完成后，确认：
- [ ] 视频时长合适（2:50-3:30）
- [ ] 画面清晰流畅
- [ ] 配音清晰，音量适中
- [ ] 双语字幕显示正确
- [ ] 音视频完全同步
- [ ] 文件格式：MP4
- [ ] 分辨率：1920x1080
- [ ] 帧率：30 FPS
- [ ] 文件大小合理（<150MB）

---

**准备好了吗？开始录制你的演示视频吧！🎬**

如有问题，参考本指南或查阅相关文档。祝你制作顺利！